<!DOCTYPE html>
<html>
<head>
  <title>Ponto All - Registro de Ponto.</title>
  <style>
    .gfg {
      font-size: 40px;
      font-weight: bold;
      color: #009900;
      margin-left: 20px;
    }
    .geeks {
      margin-left: 150px;
    }
    p {
      font-size: 20px;
      margin-left: 20px;
    }
  </style>
</head>
 
<body>
  <div class="gfg">Sistema de Ponto</div>
  
	<p><strong id="conteudo"/></p>
	
 	<script type="text/javascript">
 	now = new Date
 	var dia     = now.getDate();           // 01-31
	var hora    = now.getHours();          // 00-23
	var min     = now.getMinutes();        // 00-59
 	var str_hora = hora + ':' + min;
	document.write ("Hoje é " + now.getDate() + "/" + now.getMonth() + "/" + now.getFullYear() )
	document.write(", " +str_hora)
	
	function getlocation() {
          const address = document.querySelector("pre");

		  function onError() {
			address.textContent = "Erro ao carregar sua localização tente novamente!";
			alert("Erro ao carregar sua localização tente novamente!")
		  }
		async  function onSuccess(position) {
			const geocode = await fetch(`https://geocode.xyz/${position.coords.latitude},${position.coords.longitude}?json=1`);
			const geoResponse = await geocode.json();

																
			document.getElementById("conteudo").innerHTML = "Sua localização é: " + `${geoResponse.staddress}, ${geoResponse.stnumber}, ${geoResponse.city}, ${geoResponse.postal}, ${geoResponse.country} `											
		  }

		  if (!navigator.geolocation) {
			onError();
		  } else {
			navigator.geolocation.getCurrentPosition(onSuccess, onError);
		  }
    }
		
 	</script>
  <button class="geeks" type="button" onclick="getlocation()">Registrar Ponto.</button>
  <div id="demo2" style="width: 500px; height: 500px"></div>
  
  </body>
 
</html>
